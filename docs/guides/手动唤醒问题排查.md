# 触发唤醒问题排查

**OpenSkills: Trigger Wake** 依赖 Cursor Agent CLI。若执行无反应，按以下步骤排查。

## 1. 确认 Agent CLI 已安装

在终端运行：
```bash
agent --version
```

若报错「找不到命令」，需安装 Agent CLI。详见 [QUICK_START - 安装 Agent CLI](../QUICK_START.md#1-安装-cursor-agent-cli)。

## 2. 配置 Agent Cli Path（Windows 常见）

若在桌面终端可运行 `agent`，但扩展内仍报「Agent CLI 不可用」：

1. 打开 Cursor 设置（`Ctrl+,`），搜索 `OpenSkills`
2. 找到 **Agent Cli Path**
3. 填入 `agent` 的完整路径（如 `C:\Users\<用户名>\.local\bin\agent.exe`）
4. 重启 Cursor 或重新加载窗口

## 3. 首次使用需完成 CLI 登录

触发唤醒后，若终端显示「Signing in」和链接：

1. 点击终端中的链接，在浏览器中完成 Cursor 账号登录
2. 与编辑器登录分开，仅需一次
3. 登录成功后，CLI 会记住状态

## 4. 重新加载 Cursor

修改配置或 PATH 后：
- `Ctrl+Shift+P` → `Developer: Reload Window`

## 5. 运行诊断

执行 **OpenSkills: Diagnose** 或 **OpenSkills: Open Diagnose Panel**，查看：
- Agent CLI 是否可用
- API 连接状态
- 配置与路径

## 相关文档

- [如何唤醒 skills-admin](如何唤醒skills-admin.md)
- [用户操作手册 - CLI 权限问题](用户操作手册.md#三cli-可能没有某些命令执行权限的问题)
- [TROUBLESHOOTING](TROUBLESHOOTING.md)
